<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>BookVerso</title>

<style>
body{
  font-family: Arial;
  margin:0;
  background:#0f172a;
  color:white;
}

header{
  background:#020617;
  padding:15px;
  text-align:center;
  font-size:22px;
}

nav{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:8px;
  background:#020617;
  padding:10px;
}

nav button{
  background:#1e293b;
  color:white;
  border:none;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
}

main{
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:20px;
}

.card{
  background:#020617;
  border-radius:10px;
  padding:10px;
  position:relative;
}

.card img{
  width:100%;
  height:240px;
  object-fit:cover;
  border-radius:8px;
}

.titulo{
  font-size:14px;
  margin:8px 0;
}

.estrelas span{
  cursor:pointer;
  font-size:18px;
}

.status{
  width:100%;
  margin-top:6px;
}

.btn-quero{
  position:absolute;
  right:8px;
  bottom:8px;
  background:#020617;
  border:none;
  color:white;
  font-size:18px;
  cursor:pointer;
}

.pagina{display:none}
.ativa{display:grid}
</style>
</head>

<body>

<header>ðŸ“š BookVerso</header>

<nav id="menu"></nav>

<main id="conteudo"></main>

<script>
// ====== GÃŠNEROS ======
const generos = [
  "Fantasia",
  "Romance",
  "Terror",
  "FicÃ§Ã£o CientÃ­fica",
  "MistÃ©rio",
  "Aventura",
  "Juvenil"
]

// ====== GERAR 150 LIVROS ======
const livros = {}

let total = 0

for (let g of generos){
  livros[g] = []

  for (let i=1;i<=22;i++){   // 7x22 â‰ˆ 154 livros
    total++

    livros[g].push({
      id:`${g}-${i}`,
      titulo:`Livro ${total} â€” ${g}`,
      img:"https://via.placeholder.com/150x240?text=Livro",
      estrelas:0,
      status:"nenhum"
    })
  }
}

// ====== LISTAS ======
const listas = {
  quero:[],
  lendo:[],
  lido:[]
}

// ====== MENU ======
const menu = document.getElementById("menu")

generos.forEach(g=>{
  const b=document.createElement("button")
  b.textContent=g
  b.onclick=()=>mostrar(g)
  menu.appendChild(b)
})

const btnEstante=document.createElement("button")
btnEstante.textContent="ðŸ“– Minha Estante"
btnEstante.onclick=()=>mostrar("estante")
menu.appendChild(btnEstante)

// ====== MOSTRAR PÃGINA ======
function mostrar(genero){

  conteudo.innerHTML=""

  if(genero==="estante"){
    mostrarEstante()
    return
  }

  livros[genero].forEach(l=>{
    conteudo.appendChild(criarCard(l))
  })
}

// ====== CARD ======
function criarCard(livro){

  const card=document.createElement("div")
  card.className="card"

  card.innerHTML=`
    <img src="${livro.img}">
    <div class="titulo">${livro.titulo}</div>
    <div class="estrelas">
      ${[1,2,3,4,5].map(n=>
        `<span onclick="avaliar('${livro.id}',${n})">â˜…</span>`
      ).join("")}
    </div>

    <select class="status"
      onchange="mudarStatus('${livro.id}',this.value)">
      <option value="nenhum">Status</option>
      <option value="quero">Quero ler</option>
      <option value="lendo">Lendo</option>
      <option value="lido">Lido</option>
    </select>

    <button class="btn-quero"
      onclick="addQuero('${livro.id}')">ï¼‹</button>
  `

  return card
}

// ====== AVALIAÃ‡ÃƒO ======
function avaliar(id,n){
  for(let g in livros){
    const l = livros[g].find(x=>x.id===id)
    if(l){ l.estrelas=n }
  }
}

// ====== STATUS ======
function mudarStatus(id,status){

  for(let k in listas){
    listas[k]=listas[k].filter(x=>x!==id)
  }

  if(status!=="nenhum"){
    listas[status].push(id)
  }
}

// ====== BOTÃƒO QUERO LER ======
function addQuero(id){
  mudarStatus(id,"quero")
  alert("Adicionado a Quero Ler ðŸ“š")
}

// ====== ESTANTE ======
function mostrarEstante(){

  conteudo.innerHTML=""

  for(let tipo in listas){

    const h=document.createElement("h2")
    h.textContent=tipo.toUpperCase()
    conteudo.appendChild(h)

    listas[tipo].forEach(id=>{
      for(let g in livros){
        const l=livros[g].find(x=>x.id===id)
        if(l) conteudo.appendChild(criarCard(l))
      }
    })
  }
}

// ====== INICIAL ======
mostrar(generos[0])
</script>

</body>
</html>
