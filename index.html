 <!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BookVerso</title>

<style>
:root{
  --bg:#0f172a;
  --card:#1e293b;
  --accent:#a78bfa;
  --text:#e2e8f0;
}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

header{
  padding:15px;
  text-align:center;
  font-size:22px;
  background:#020617;
}

.menu{
  display:flex;
  gap:8px;
  padding:12px;
  flex-wrap:wrap;
  justify-content:center;
}

button{
  background:var(--accent);
  border:none;
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
}

.#listaLivros {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  padding: 20px;
}

.card {
  background: #1e1e2f;
  border-radius: 12px;
  padding: 12px;
  text-align: center;
  color: white;
}

.card img {
  width: 100%;
  border-radius: 8px;
}

.sinopse {
  font-size: 14px;
  margin: 8px 0;
}

.estrelas span {
  font-size: 22px;
  cursor: pointer;
  color: gold;
}
.modal{
  position:fixed;
  inset:0;
  background:#000a;
  display:none;
  align-items:center;
  justify-content:center;
}

.modal-content{
  background:var(--card);
  padding:20px;
  border-radius:16px;
  width:90%;
  max-width:400px;
}
</style>
</head>

<body>

<header>ðŸ“š BookVerso</header>
<div id="listaLivros"></div>
<div class="menu">
  <button onclick="mostrarGenero('Fantasia')">Fantasia</button>
  <button onclick="mostrarGenero('Romance')">Romance</button>
  <button onclick="mostrarGenero('Terror')">Terror</button>
  <button onclick="mostrarGenero('FicÃ§Ã£o CientÃ­fica')">FicÃ§Ã£o CientÃ­fica</button>
</div>

<div class="grid" id="grid"></div>

<!-- Modal Sinopse -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h2 id="modalTitle"></h2>
    <p id="modalDesc"></p>
    <button onclick="fechar()">Fechar</button>
  </div>
</div>

<script>

// ===== LIVRO

  const livros = {
  Fantasia: [
    {
      id: "f1",
      titulo: "O Senhor dos AnÃ©is",
      img: "https://covers.openlibrary.org/b/id/8231856-L.jpg",
      sinopse: "Uma jornada Ã©pica para destruir um anel maligno.",
      estrelas: 0
    },
    {
      id: "f2",
      titulo: "O Hobbit",
      img: "https://covers.openlibrary.org/b/id/6979861-L.jpg",
      sinopse: "Bilbo Bolseiro parte numa aventura inesperada.",
      estrelas: 0
    }
  ],

  Romance: [
    {
      id: "r1",
      titulo: "Orgulho e Preconceito",
      img: "https://covers.openlibrary.org/b/id/8091016-L.jpg",
      sinopse: "Um clÃ¡ssico sobre amor e diferenÃ§as sociais.",
      estrelas: 0
    }
  ],

  Terror: [
    {
      id: "t1",
      titulo: "It",
      img: "https://covers.openlibrary.org/b/id/8225261-L.jpg",
      sinopse: "Uma entidade maligna aterroriza uma cidade.",
      estrelas: 0
    }
  ],

  "FicÃ§Ã£o CientÃ­fica": [
    {
      id: "fc1",
      titulo: "Duna",
      img: "https://covers.openlibrary.org/b/id/8101356-L.jpg",
      sinopse: "Conflitos polÃ­ticos e ecolÃ³gicos em um planeta desÃ©rtico.",
      estrelas: 0
    }
  ]
};

// ===== VARIÃVEIS =====

let generoAtual = "Fantasia";
const grid = document.getElementById("grid");
const modal = document.getElementById("modal");
const modalTitle = document.getElementById("modalTitle");
const modalDesc = document.getElementById("modalDesc");

// ===== MOSTRAR LIVROS =====

function mostrarGenero(genero) {
  const container = document.getElementById("listaLivros");
  container.innerHTML = "";

  livros[genero].forEach(livro => {

    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <img src="${livro.img}" alt="${livro.titulo}">
      <h3>${livro.titulo}</h3>

      <p class="sinopse">${livro.sinopse}</p>

      <div class="estrelas">
        ${[1,2,3,4,5].map(n =>
          `<span onclick="avaliar('${genero}','${livro.id}',${n})">
             ${n <= livro.estrelas ? "â˜…" : "â˜†"}
           </span>`
        ).join("")}
      </div>
    `;

    container.appendChild(card);
  });
}
// ===== AVALIAÃ‡ÃƒO =====

function avaliar(genero, id, nota) {
  const livro = livros[genero].find(l => l.id === id);
  livro.estrelas = nota;

  mostrarGenero(genero);
 }
  }
}

// ===== STATUS =====

function textoStatus(s){
  if(s==="quero") return "ðŸ“Œ Quero ler";
  if(s==="lendo") return "ðŸ“– Lendo";
  if(s==="lido") return "âœ… Lido";
}

function mudarStatus(e,i){
  e.stopPropagation();

  const livro = livros[generoAtual][i];

  if(livro.status==="quero") livro.status="lendo";
  else if(livro.status==="lendo") livro.status="lido";
  else livro.status="quero";

  localStorage.setItem(generoAtual+i, livro.status);

  mostrarGenero(generoAtual);
}

// ===== MODAL SINOPSE =====

function abrir(livro){
  modal.style.display="flex";
  modalTitle.innerText = livro.titulo;
  modalDesc.innerText = livro.sinopse;
}

function fechar(){
  modal.style.display="none";
}

// ===== INÃCIO =====

mostrarGenero("Fantasia");
// ===== VARIÃVEIS =====

let generoAtual = "Fantasia";
const grid = document.getElementById("grid");

// ===== MOSTRAR LIVROS =====

function mostrarGenero(genero){
  generoAtual = genero;
  grid.innerHTML = "";

  livros[genero].forEach((livro,i)=>{

    const salvo = localStorage.getItem(genero+i);
    if(salvo) livro.status = salvo;

    const card = document.createElement("div");
    card.className="card";

    card.innerHTML = `
      <img src="${livro.capa}">
      <div class="title">${livro.titulo}</div>

      <div class="stars" onclick="avaliar(event,${i})">
        ${"â˜…".repeat(livro.nota)}${"â˜†".repeat(5-livro.nota)}
      </div>

      <div class="status" onclick="mudarStatus(event,${i})">
        ${textoStatus(livro.status)}
      </div>
    `;

    card.onclick = ()=>abrir(livro);

    grid.appendChild(card);
  });
}

// ===== AVALIAÃ‡ÃƒO =====

function avaliar(e,i){
  e.stopPropagation();
  const nota = prompt("Nota de 1 a 5:");
  if(nota>=1 && nota<=5){
    livros[generoAtual][i].nota = nota;
    mostrarGenero(generoAtual);
  }
}

// ===== STATUS =====

function textoStatus(s){
  if(s==="quero") return "ðŸ“Œ Quero ler";
  if(s==="lendo") return "ðŸ“– Lendo";
  if(s==="lido") return "âœ… Lido";
}

function mudarStatus(e,i){
  e.stopPropagation();

  const livro = livros[generoAtual][i];

  if(livro.status==="quero") livro.status="lendo";
  else if(livro.status==="lendo") livro.status="lido";
  else livro.status="quero";

  localStorage.setItem(generoAtual+i, livro.status);

  mostrarGenero(generoAtual);
}

// ===== MODAL SINOPSE =====

function abrir(livro){
  modal.style.display="flex";
  modalTitle.innerText=livro.titulo;
  modalDesc.innerText=livro.sinopse;
}

function fechar(){
  modal.style.display="none";
}

// ===== INÃCIO =====

mostrarGenero("Fantasia");

</script>

</body>
</html>
